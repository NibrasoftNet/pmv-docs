#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Get the current branch name
current_branch=$(git symbolic-ref --short HEAD)

# Prevent direct pushes to main
if [ "$current_branch" = "main" ]; then
  echo "❌ ERROR: Direct pushes to the 'main' branch are not allowed!"
  echo "Please create a feature branch and submit a pull request instead."
  echo ""
  echo "To create a feature branch:"
  echo "  git checkout -b feature/your-feature-name"
  echo ""
  exit 1
fi

echo "✅ Pre-push checks passed!"
