CREATE TABLE "manufacturer" ("created_at" TIMESTAMP NOT NULL DEFAULT now(), "updated_at" TIMESTAMP NOT NULL DEFAULT now(), "deleted_at" TIMESTAMP, "id" SERIAL NOT NULL, "manufacturerId" integer NOT NULL, "name" character varying NOT NULL, "description" character varying, "websiteURL" character varying, "modelsCount" numeric NOT NULL DEFAULT '0', "imageId" uuid, "pmvCategoryId" integer NOT NULL, "originCountryId" integer NOT NULL, CONSTRAINT "PK_b9432627caf26373b8bafebe96e" PRIMARY KEY ("id", "manufacturerId"));
CREATE TABLE "pmv_model" ("created_at" TIMESTAMP NOT NULL DEFAULT now(), "updated_at" TIMESTAMP NOT NULL DEFAULT now(), "deleted_at" TIMESTAMP, "id" integer NOT NULL, "startYear" date NOT NULL, "endYear" date NOT NULL, "name" character varying NOT NULL, "manufacturerId" integer NOT NULL, "manufacturerManufacturerId" integer NOT NULL, "pmvTypeId" integer NOT NULL, CONSTRAINT "PK_69db3e669849352596f92039a06" PRIMARY KEY ("id"));
ALTER TABLE "manufacturer" ADD CONSTRAINT "FK_7893bd1a77bf99bda4208ca5c12" FOREIGN KEY ("imageId") REFERENCES "file"("id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "manufacturer" ADD CONSTRAINT "FK_c395a63da22fe9e2f776a6d3988" FOREIGN KEY ("pmvCategoryId") REFERENCES "pmv_category"("id") ON DELETE RESTRICT ON UPDATE NO ACTION;
ALTER TABLE "manufacturer" ADD CONSTRAINT "FK_6cd7204972c1398685196588d2c" FOREIGN KEY ("originCountryId") REFERENCES "country"("id") ON DELETE RESTRICT ON UPDATE NO ACTION;
ALTER TABLE "pmv_model" ADD CONSTRAINT "FK_782789f0941ba75107871a947bf" FOREIGN KEY ("manufacturerId", "manufacturerManufacturerId") REFERENCES "manufacturer"("id","manufacturerId") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "pmv_model" ADD CONSTRAINT "FK_494564f3fba3da5c6aa4697ff72" FOREIGN KEY ("pmvTypeId") REFERENCES "pmv_category"("id") ON DELETE NO ACTION ON UPDATE NO ACTION;
